<LinkageCheckerFilter>
  <!-- reactor-core's Traces catches Throwable to detect classes available in
    Java 9+. As Linkage Checker targets Java 8, it ignores these errors to avoid
    false positives.
    https://github.com/GoogleCloudPlatform/cloud-opensource-java/issues/816 -->
  <LinkageError>
    <Source>
      <Package name="reactor.core.publisher.Traces" />
    </Source>
  </LinkageError>

  <!-- GraalVM-related libraries depend on Java Compiler Interface (JVMCI) that
    only exists in special JDK. These missing classes are false positives, because
    the code is only invoked when running in a GraalVM.
    https://github.com/GoogleCloudPlatform/cloud-opensource-java/issues/929 -->
  <LinkageError>
    <Target>
      <Package name="jdk.vm.ci" />
    </Target>
    <Source>
      <Package name="com.oracle.svm" />
    </Source>
  </LinkageError>
  <LinkageError>
    <Target>
      <Package name="jdk.vm.ci" />
    </Target>
    <Source>
      <Package name="com.oracle.graal" />
    </Source>
  </LinkageError>
  <LinkageError>
    <Target>
      <Package name="jdk.vm.ci" />
    </Target>
    <Source>
      <Package name="org.graalvm" />
    </Source>
  </LinkageError>

  <!-- Mockito's MockMethodDispatcher uses special class loader to load
    MockMethodDispatcher.raw. The class file with "raw" suffix is in mockito-core JAR file.
    As long as developers use Mockito through a normal usage, there should not be
    a problem. As Linkage Checker does not use the special class loader, it ignores the missing
    class errors to avoid false positives.
    https://github.com/GoogleCloudPlatform/cloud-opensource-java/issues/407 -->
  <LinkageError>
    <Target>
      <Class name="org.mockito.internal.creation.bytebuddy.MockMethodDispatcher" />
    </Target>
    <Source>
      <Package name="org.mockito.internal.creation.bytebuddy" />
    </Source>
  </LinkageError>
</LinkageCheckerFilter>